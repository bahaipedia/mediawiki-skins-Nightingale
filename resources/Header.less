@import 'mediawiki.skin.variables.less';

.nightingale-header {
    background: #fff;
    border-bottom: 1px solid #ccc;
    padding: 0 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap; /* Allows rows on mobile */
}

/* Row Wrappers: On Desktop, they act as flex items side-by-side */
.nightingale-header-row-primary,
.nightingale-header-row-secondary {
    display: flex;
    align-items: center;
}

.nightingale-header-row-secondary {
    flex-grow: 1;
    justify-content: space-between;
    margin-left: 20px;
}

/* Navigation Menu Styles */
.nightingale-nav {
    display: flex;
    
    .mw-portlet-dropdown {
        margin-right: 15px;
        position: relative;
        
        .mw-checkbox-hack-button {
            font-weight: bold;
            color: #333;
            cursor: pointer;
            padding: 10px 0;
            display: block;
            white-space: nowrap;
        }

        .mw-portlet-body {
            top: 40px; 
            left: 0;
        }
    }
}

/* MOBILE LAYOUT */
@media (max-width: 1000px) {
    .nightingale-header {
        padding: 10px;
        flex-direction: column; /* Stack rows */
        align-items: stretch;
    }

    /* Row 1: Sitename + Search */
    .nightingale-header-row-primary {
        width: 100%;
        margin-bottom: 10px;
        
        #p-logo { display: none; } /* Hide Logo */
        
        #p-sitename { 
            margin-right: 10px; 
            white-space: nowrap;
        }
        
        #p-search {
            flex-grow: 1; /* Search fills remaining space */
            margin: 0;
        }
    }

    /* Row 2: Menus + Tools */
    .nightingale-header-row-secondary {
        width: 100%;
        margin-left: 0;
        justify-content: space-between;
    }
    
    /* Ensure nav items don't overflow */
    .nightingale-nav {
        flex-wrap: wrap;
        .mw-portlet-dropdown {
             margin-right: 10px;
        }
    }
}
