@import 'mediawiki.skin.variables.less';

/* Dropdown.less */

/* 1. Base Dropdown Toggle Logic (The "Checkbox Hack") */
.mw-portlet-dropdown ~ .mw-portlet {
    position: relative;

    /* Hide the menu by default */
    .mw-portlet-body {
        display: none;
        position: absolute;
        right: 0;
        top: 100%;
        z-index: 10;
        margin-top: 6px;
        
        /* Container styling */
        background: var(--background-color-card, #ffffff);
        box-shadow: 0 5px 17px 0 var(--shadow-color-dropdown, rgba(0,0,0,0.1)), 0 0 1px var(--color-gray, #ccc);
        border-radius: 4px;
        
        /* Layout Sizing */
        width: max-content;
        min-width: 160px;
        max-width: 90vw;
        padding: 10px;
    }

    /* Show the menu when the checkbox is checked */
    input:checked ~ .mw-portlet-body {
        display: block; /* We use block here, flex is handled inside */
        opacity: 1;
        visibility: visible;
        animation: fade-in 0.2s ease-out; /* Optional: smooth entry */
    }
}

/* 2. The Nightingale Mega Menu Layout */
.nightingale-mega-menu {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    gap: 20px;
    flex-direction: row-reverse;
}

/* 3. The Menu Sections (The <ul> elements) */
.nightingale-menu-section {
    /* CRITICAL FIX: Resetting browser defaults */
    list-style: none !important;
    margin: 0 !important;
    padding: 0 !important;
    
    display: flex;
    flex-direction: column;
    gap: 5px; /* Spacing between list items */
    
    /* Ensure they don't collapse */
    flex: 1;
    min-width: 120px;
}

/* Optional: Add a separator line between the two lists */
.nightingale-section-primary {
    border-left: 1px solid var(--border-color-subtle, #eee);
    padding-left: 20px !important;
}

/* 4. The List Items and Links */
.nightingale-menu-section .mw-list-item {
    margin: 0;
    padding: 0;
    width: 100%;
}

.nightingale-menu-section a {
    display: block;
    padding: 8px 12px;
    text-decoration: none;
    color: var(--color-text-main, #333);
    border-radius: 4px;
    transition: background 0.1s ease;
    white-space: nowrap;
}

.nightingale-menu-section a:hover {
    background-color: var(--background-color-hover, #f5f5f5);
    text-decoration: none;
}

/* 5. Mobile / Responsive Adjustments */
@media (max-width: 600px) {
    .nightingale-mega-menu {
        flex-direction: column; /* Stack them vertically on small screens */
    }
    
    .nightingale-section-primary {
        border-right: none;
        border-bottom: 1px solid var(--border-color-subtle, #eee);
        padding-right: 0 !important;
        padding-bottom: 15px !important;
        margin-bottom: 15px !important;
    }
}
